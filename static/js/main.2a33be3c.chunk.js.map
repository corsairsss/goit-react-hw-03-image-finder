{"version":3,"sources":["Componets/ImageGalleryItem/ImageGalleryItem.module.css","Componets/ImageGallery/ImageGallery.module.css","Componets/Modal/Modal.module.css","Componets/Spinner/Spiner.module.css","Componets/SearchBar/SearchBar.js","Componets/ImageGalleryItem/ImageGalleryItem.js","Componets/ImageGallery/ImageGallery.js","Componets/Button/Button.js","Componets/Modal/Modal.js","Componets/Spinner/Spinner.js","Services/apiServicePixabay.js","Componets/App.js","index.js","Componets/SearchBar/SearchBar.module.css","Componets/Button/Button.module.css"],"names":["module","exports","SearchBar","state","value","handleChangeValue","target","setState","onHandleSubmit","e","preventDefault","props","onSubmit","this","className","s","header","form","type","placeholder","autoFocus","header__input","onChange","header__btn","Component","ImageGalleryItem","gallery","map","item","key","id","src","webImgUrl","width","webformatWidth","height","webformatHeight","data-large","largeImageURL","listItem__img","alt","tags","ImageGallery","onClick","list","Button","LoadMore","footer","footer__btn","Modal","handleKeyDown","code","closeModal","window","addEventListener","removeEventListener","url","container","Spinner","color","API_KEY","fetchArticles","query","page","requestParam","fetch","response","json","data","hits","arrayImg","App","currentQuery","largeImgInModal","loader","heightToScroll","a","ApiPixabayServices","galleryImg","hit","webformatURL","prevState","console","log","document","body","scrollHeight","handleChangeSubmit","GalleryClick","dataset","large","CloseModal","prevProps","scrollTo","top","behavior","isShowBtnLoadMore","length","isShowGalary","isShowModalWindow","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.2a33be3c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem__img\":\"ImageGalleryItem_listItem__img__15HXO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ImageGallery_list__264fp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Modal_container__3J4j5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Spiner_container__3E1Rd\"};","import React, { Component } from 'react';\r\n\r\nimport s from './SearchBar.module.css';\r\n\r\nexport default class SearchBar extends Component {\r\n  state = {\r\n    value: '',\r\n  };\r\n\r\n  handleChangeValue = ({ target }) => this.setState({ value: target.value });\r\n\r\n  //  В МЕНЕ НЕ ВИХОДИТЬ ДЕСТРУКТИЗУВАТИ, ЯК ВИ ПОКАЗУВАЛИ\r\n  //  ({preventDefault})  ТОМУ ЗНОВУ onHandleSubmit = e => {\r\n\r\n  onHandleSubmit = e => {\r\n    const { value } = this.state;\r\n    e.preventDefault();\r\n    this.props.onSubmit(value);\r\n    if (value === '') return;\r\n    this.setState({ value: '' });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    return (\r\n      <>\r\n        <header className={s.header}>\r\n          <form onSubmit={this.onHandleSubmit} className={s.form}>\r\n            <input\r\n              type=\"text\"\r\n              value={value}\r\n              placeholder=\"search image...\"\r\n              autoFocus\r\n              className={s.header__input}\r\n              onChange={this.handleChangeValue}\r\n            />\r\n            <button type=\"submit\" className={s.header__btn}>\r\n              Search\r\n            </button>\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ gallery }) {\r\n  return (\r\n    <>\r\n      {gallery.map(item => (\r\n        <li key={item.id}>\r\n          <img\r\n            src={item.webImgUrl}\r\n            width={item.webformatWidth}\r\n            height={item.webformatHeight}\r\n            data-large={item.largeImageURL}\r\n            className={s.listItem__img}\r\n            alt={item.tags}\r\n          />\r\n        </li>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem.js';\r\n\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({ gallery, onClick }) {\r\n  return (\r\n    <ul className={s.list} onClick={onClick}>\r\n      <ImageGalleryItem gallery={gallery} />\r\n    </ul>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport s from './Button.module.css';\r\n\r\nexport default function Button({ LoadMore }) {\r\n  return (\r\n    <div className={s.footer}>\r\n      <button className={s.footer__btn} type=\"button\" onClick={LoadMore}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport s from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = ({ code }) => {\r\n    if (code === 'Escape') {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { closeModal, url } = this.props;\r\n    return (\r\n      <div className={s.container} onClick={closeModal}>\r\n        <div>\r\n          <img src={url} alt=\"someImage\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './Spiner.module.css';\r\n\r\nexport default function Spinner() {\r\n  return (\r\n    <div className={s.container}>\r\n      <Loader type=\"ThreeDots\" color=\"#563fd6e6\" height={80} width={80} />\r\n    </div>\r\n  );\r\n}\r\n","const baseUrl = 'https://pixabay.com/api/';\r\n\r\nexport default {\r\n  API_KEY: '16796853-8112350817a4bd9fba3110e85',\r\n\r\n  async fetchArticles(query, page) {\r\n    try {\r\n      const requestParam = `?q=${query}&image_type=photo&orientation=horizontal&page=${page}&per_page=12&key=${this.API_KEY}`;\r\n      const response = await fetch(baseUrl + requestParam);\r\n      const data = await response.json();\r\n      const arrayImg = await data.hits;\r\n      return arrayImg;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n","import React, { Component } from 'react';\n\nimport SearchBar from './SearchBar/SearchBar.js';\nimport ImageGallery from './ImageGallery/ImageGallery.js';\nimport Button from './Button/Button.js';\nimport Modal from './Modal/Modal.js';\nimport Spinner from './Spinner/Spinner.js';\n\nimport ApiPixabayServices from '../Services/apiServicePixabay.js';\n\nexport default class App extends Component {\n  state = {\n    gallery: [],\n    page: 1,\n    currentQuery: '',\n    largeImgInModal: '',\n    loader: false,\n    heightToScroll: 0,\n  };\n\n  fetchArticles = async () => {\n    try {\n      const { currentQuery, page } = this.state;\n      this.setState({ loader: true });\n      const hits = await ApiPixabayServices.fetchArticles(currentQuery, page);\n      const galleryImg = hits.map(hit => {\n        return {\n          id: hit.id,\n          webImgUrl: hit.webformatURL,\n          largeImageURL: hit.largeImageURL,\n          webformatWidth: hit.webformatWidth,\n          webformatHeight: hit.webformatHeight,\n          tags: hit.tags,\n        };\n      });\n      this.setState(prevState => ({\n        gallery: [...prevState.gallery, ...galleryImg],\n        page: prevState.page + 1,\n      }));\n    } catch (error) {\n      console.log('MY ERROR:', error);\n    } finally {\n      this.setState({\n        loader: false,\n        heightToScroll: document.body.scrollHeight - 56, //56- це висота кнопки Load з margin-top\n      });\n    }\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { currentQuery, loader, heightToScroll } = this.state;\n    if (prevState.currentQuery !== currentQuery && currentQuery !== '')\n      this.fetchArticles();\n    if (loader) {\n      window.scrollTo({\n        top: heightToScroll,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  handleChangeSubmit = query =>\n    this.setState({\n      currentQuery: query,\n      gallery: [],\n      page: 1,\n      heightToScroll: 0,\n    });\n\n  GalleryClick = ({ target }) =>\n    this.setState({ largeImgInModal: target.dataset.large });\n\n  CloseModal = () => this.setState({ largeImgInModal: '' });\n\n  LoadMore = () => this.fetchArticles();\n\n  render() {\n    const { largeImgInModal, gallery, loader } = this.state;\n    const isShowBtnLoadMore = gallery.length > 0;\n    const isShowGalary = gallery.length > 0;\n    const isShowModalWindow = largeImgInModal !== '';\n    return (\n      <>\n        {isShowModalWindow && (\n          <Modal url={largeImgInModal} closeModal={this.CloseModal} />\n        )}\n        <SearchBar onSubmit={this.handleChangeSubmit} />\n        {isShowGalary && (\n          <ImageGallery onClick={this.GalleryClick} gallery={gallery} />\n        )}\n\n        {isShowBtnLoadMore && !loader && <Button LoadMore={this.LoadMore} />}\n        {loader && <Spinner />}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Componets/App';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"SearchBar_header__4uB9B\",\"form\":\"SearchBar_form__3fl--\",\"header__input\":\"SearchBar_header__input__2qvJg\",\"header__btn\":\"SearchBar_header__btn__3W0OL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Button_footer__1AV9l\",\"footer__btn\":\"Button_footer__btn__1m3lH\"};"],"sourceRoot":""}