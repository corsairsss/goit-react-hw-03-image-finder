(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{13:function(e,t,a){e.exports={listItem__img:"ImageGalleryItem_listItem__img__15HXO"}},14:function(e,t,a){e.exports={list:"ImageGallery_list__264fp"}},15:function(e,t,a){e.exports={container:"Modal_container__3J4j5"}},17:function(e,t,a){e.exports={container:"Spiner_container__3E1Rd"}},18:function(e,t,a){e.exports=a(46)},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),l=a.n(o),c=a(6),i=a.n(c),u=a(10),s=a(8),m=a(2),h=a(3),d=a(5),f=a(4),g=a(7),p=a.n(g),_=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.handleChangeValue=function(t){var a=t.target;return e.setState({value:a.value})},e.onHandleSubmit=function(t){var a=e.state.value;t.preventDefault(),e.props.onSubmit(a),""!==a&&e.setState({value:""})},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this.state.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:p.a.header},r.a.createElement("form",{onSubmit:this.onHandleSubmit,className:p.a.form},r.a.createElement("input",{type:"text",value:e,placeholder:"search image...",autoFocus:!0,className:p.a.header__input,onChange:this.handleChangeValue}),r.a.createElement("button",{type:"submit",className:p.a.header__btn},"Search"))))}}]),a}(n.Component),v=a(13),b=a.n(v);function y(e){var t=e.gallery;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("img",{src:e.webImgUrl,width:e.webformatWidth,height:450,"data-large":e.largeImageURL,className:b.a.listItem__img,alt:""}))})))}var w=a(14),E=a.n(w);function k(e){var t=e.gallery,a=e.onClick;return r.a.createElement("ul",{className:E.a.list,onClick:a},r.a.createElement(y,{gallery:t}))}var I=a(9),S=a.n(I);function O(e){var t=e.LoadMore;return r.a.createElement("div",{className:S.a.footer},r.a.createElement("button",{className:S.a.footer__btn,type:"button",onClick:t},"Load more"))}var j=a(15),C=a.n(j),x=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.closeModal()},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.closeModal,a=e.url;return r.a.createElement("div",{className:C.a.container,onClick:t},r.a.createElement("div",null,r.a.createElement("img",{src:a,alt:"someImage"})))}}]),a}(n.Component),M=a(16),L=a.n(M),A=(a(45),a(17)),N=a.n(A);function B(){return r.a.createElement("div",{className:N.a.container},r.a.createElement(L.a,{type:"ThreeDots",color:"#563fd6e6",height:80,width:80}))}var R={API_KEY:"16796853-8112350817a4bd9fba3110e85",fetchArticles:function(e,t){var a=this;return Object(s.a)(i.a.mark((function n(){var r,o,l,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r="?q=".concat(e,"&image_type=photo&orientation=horizontal&page=").concat(t,"&per_page=12&key=").concat(a.API_KEY),n.next=4,fetch("https://pixabay.com/api/"+r);case 4:return o=n.sent,n.next=7,o.json();case 7:return l=n.sent,n.next=10,l.hits;case 10:return c=n.sent,n.abrupt("return",c);case 14:throw n.prev=14,n.t0=n.catch(0),n.t0;case 17:case"end":return n.stop()}}),n,null,[[0,14]])})))()}},U=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={gallery:[],page:1,currentQuery:"",largeImgInModal:"",loader:!1,height:0},e.fetchArticles=Object(s.a)(i.a.mark((function t(){var a,n,r,o,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({loader:!0}),a=e.state,n=a.currentQuery,r=a.page,t.next=5,R.fetchArticles(n,r);case 5:o=t.sent,l=o.map((function(e){return{id:e.id,webImgUrl:e.webformatURL,largeImageURL:e.largeImageURL,webformatWidth:e.webformatWidth}})),e.setState((function(e){return{gallery:[].concat(Object(u.a)(e.gallery),Object(u.a)(l)),page:e.page+1}})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("MY ERROR",t.t0);case 13:return t.prev=13,e.setState({loader:!1,height:document.body.scrollHeight}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])}))),e.handleChangeSubmit=function(t){return e.setState({currentQuery:t,gallery:[],page:1,height:0})},e.GalleryClick=function(t){var a=t.target;return e.setState({largeImgInModal:a.dataset.large})},e.CloseModal=function(){return e.setState({largeImgInModal:""})},e.LoadMore=function(){return e.fetchArticles()},e}return Object(h.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.currentQuery,r=a.loader,o=a.height;t.currentQuery!==n&&""!==n&&this.fetchArticles(),r&&window.scrollTo({top:o,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.largeImgInModal,a=e.gallery,n=e.loader,o=a.length>0,l=a.length>0,c=""!==t;return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(x,{url:t,closeModal:this.CloseModal}),r.a.createElement(_,{onSubmit:this.handleChangeSubmit}),l&&r.a.createElement(k,{onClick:this.GalleryClick,gallery:a}),o&&!n&&r.a.createElement(O,{LoadMore:this.LoadMore}),n&&r.a.createElement(B,null))}}]),a}(n.Component);l.a.render(r.a.createElement(U,null),document.querySelector("#root"))},7:function(e,t,a){e.exports={header:"SearchBar_header__4uB9B",form:"SearchBar_form__3fl--",header__input:"SearchBar_header__input__2qvJg",header__btn:"SearchBar_header__btn__3W0OL"}},9:function(e,t,a){e.exports={footer:"Button_footer__1AV9l",footer__btn:"Button_footer__btn__1m3lH"}}},[[18,1,2]]]);
//# sourceMappingURL=main.57a90a45.chunk.js.map