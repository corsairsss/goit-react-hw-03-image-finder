(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={footer:"Button_footer__1AV9l",footer__btn:"Button_footer__btn__1m3lH"}},14:function(e,t,a){e.exports={listItem__img:"ImageGalleryItem_listItem__img__15HXO"}},15:function(e,t,a){e.exports={list:"ImageGallery_list__264fp"}},16:function(e,t,a){e.exports={container:"Modal_container__3J4j5"}},18:function(e,t,a){e.exports={container:"Spiner_container__3E1Rd"}},20:function(e,t,a){e.exports=a(49)},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),l=a.n(o),c=a(2),i=a(3),u=a(8),s=a(5),m=a(4),h=a(7),d=a.n(h),p=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.handleChangeValue=function(t){var a=t.target;return e.setState({value:a.value})},e.onHandleSubmit=function(t){var a=e.state.value;t.preventDefault(),e.props.onSubmit(a),""!==a&&e.setState({value:""})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:d.a.header},r.a.createElement("form",{onSubmit:this.onHandleSubmit,className:d.a.form},r.a.createElement("input",{type:"text",value:e,placeholder:"search image...",autoFocus:!0,className:d.a.header__input,onChange:this.handleChangeValue}),r.a.createElement("button",{type:"submit",className:d.a.header__btn},"Search"))))}}]),a}(n.Component),g=a(14),f=a.n(g);function b(e){var t=e.id,a=e.webImgUrl,n=e.webformatWidth,o=e.webformatHeight,l=e.largeImageURL,c=e.tags;return r.a.createElement("li",{key:t},r.a.createElement("img",{src:a,width:n,height:o,"data-large":l,className:f.a.listItem__img,alt:c}))}var v=a(15),_=a.n(v);function y(e){var t=e.gallery,a=e.onClick;return r.a.createElement("ul",{className:_.a.list,onClick:a},t.map((function(e){return r.a.createElement(b,e)})))}var w=a(10),E=a.n(w);function S(e){var t=e.LoadMore;return r.a.createElement("div",{className:E.a.footer},r.a.createElement("button",{className:E.a.footer__btn,type:"button",onClick:t},"Load more"))}var k=a(16),O=a.n(k),I=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.closeModal()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.closeModal,a=e.url;return r.a.createElement("div",{className:O.a.container,onClick:t},r.a.createElement("div",null,r.a.createElement("img",{src:a,alt:"someImage"})))}}]),a}(n.Component),j=a(17),C=a.n(j),M=(a(46),a(18)),x=a.n(M);function R(){return r.a.createElement("div",{className:x.a.container},r.a.createElement(C.a,{type:"ThreeDots",color:"#563fd6e6",height:80,width:80}))}var L=a(6),N=a.n(L),B=a(11),H=a(9),T=function(){var e=Object(H.a)(N.a.mark((function e(t,a){var n,r,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="?q=".concat(t,"&image_type=photo&orientation=horizontal&page=").concat(a,"&per_page=12&key=").concat("16796853-8112350817a4bd9fba3110e85"),e.next=4,fetch("https://pixabay.com/api/"+n).then((function(e){return e.json()}));case 4:return r=e.sent,o=r.hits,e.abrupt("return",o);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),U=a(19),D=(a(48),new U.a({duration:5e3,position:{x:"center",y:"top"},types:[{type:"badRequest",backgroundColor:"red",icon:!1,message:"ERROR - PLEASE, TRY LATER....",dismissible:!0,duration:3e3}]})),A=function(){var e=Object(H.a)(N.a.mark((function e(t){var a,n,r,o,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.setState({loader:!0}),a=t.state,n=a.currentQuery,r=a.page,e.next=5,T(n,r);case 5:o=e.sent,l=o.map((function(e){return{id:e.id,webImgUrl:e.webformatURL,largeImageURL:e.largeImageURL,webformatWidth:e.webformatWidth,webformatHeight:e.webformatHeight,tags:e.tags}})),t.setState((function(e){return{gallery:[].concat(Object(B.a)(e.gallery),Object(B.a)(l)),page:e.page+1,loader:!1,heightToScroll:document.body.scrollHeight-56}})),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(0),console.log("MY ERROR:",e.t0),D.error({type:"badRequest"}),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),q=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={gallery:[],page:1,currentQuery:"",largeImgInModal:"",loader:!1,heightToScroll:0,demo:0},e.handleChangeSubmit=function(t){return e.setState({currentQuery:t,gallery:[],page:1,heightToScroll:0})},e.GalleryClick=function(t){var a=t.target;return e.setState({largeImgInModal:a.dataset.large})},e.CloseModal=function(){return e.setState({largeImgInModal:""})},e.LoadMore=function(){return A(Object(u.a)(e))},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.currentQuery,r=a.loader,o=a.heightToScroll;t.currentQuery!==n&&""!==n&&A(this),r||window.scrollTo({top:o,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.largeImgInModal,a=e.gallery,n=e.loader,o=a.length>0,l=a.length>0,c=""!==t;return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(I,{url:t,closeModal:this.CloseModal}),r.a.createElement(p,{onSubmit:this.handleChangeSubmit}),l&&r.a.createElement(y,{onClick:this.GalleryClick,gallery:a}),o&&!n&&r.a.createElement(S,{LoadMore:this.LoadMore}),n&&r.a.createElement(R,null))}}]),a}(n.Component);l.a.render(r.a.createElement(q,null),document.querySelector("#root"))},7:function(e,t,a){e.exports={header:"SearchBar_header__4uB9B",form:"SearchBar_form__3fl--",header__input:"SearchBar_header__input__2qvJg",header__btn:"SearchBar_header__btn__3W0OL"}}},[[20,1,2]]]);
//# sourceMappingURL=main.62a7fdb7.chunk.js.map