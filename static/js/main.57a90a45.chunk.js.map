{"version":3,"sources":["Componets/ImageGalleryItem/ImageGalleryItem.module.css","Componets/ImageGallery/ImageGallery.module.css","Componets/Modal/Modal.module.css","Componets/Spinner/Spiner.module.css","Componets/SearchBar/SearchBar.js","Componets/ImageGalleryItem/ImageGalleryItem.js","Componets/ImageGallery/ImageGallery.js","Componets/Button/Button.js","Componets/Modal/Modal.js","Componets/Spinner/Spinner.js","Services/apiServicePixabay.js","Componets/App.js","index.js","Componets/SearchBar/SearchBar.module.css","Componets/Button/Button.module.css"],"names":["module","exports","SearchBar","state","value","handleChangeValue","target","setState","onHandleSubmit","e","preventDefault","props","onSubmit","this","className","s","header","form","type","placeholder","autoFocus","header__input","onChange","header__btn","Component","ImageGalleryItem","gallery","map","item","key","id","src","webImgUrl","width","webformatWidth","height","data-large","largeImageURL","listItem__img","alt","ImageGallery","onClick","list","Button","LoadMore","footer","footer__btn","Modal","handleKeyDown","code","closeModal","window","addEventListener","removeEventListener","url","container","Spinner","color","API_KEY","fetchArticles","query","page","requestParam","fetch","response","json","data","hits","arrayImg","App","currentQuery","largeImgInModal","loader","a","ApiPixabayServices","galleryImg","hit","webformatURL","prevState","console","log","document","body","scrollHeight","handleChangeSubmit","GalleryClick","dataset","large","CloseModal","prevProps","scrollTo","top","behavior","isShowBtnLoadMore","length","isShowGalary","isShowModalWindow","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.57a90a45.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem__img\":\"ImageGalleryItem_listItem__img__15HXO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ImageGallery_list__264fp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Modal_container__3J4j5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Spiner_container__3E1Rd\"};","import React, { Component } from 'react';\r\n\r\nimport s from './SearchBar.module.css';\r\n\r\nexport default class SearchBar extends Component {\r\n  state = {\r\n    value: '',\r\n  };\r\n\r\n  handleChangeValue = ({ target }) => this.setState({ value: target.value });\r\n\r\n  //  В МЕНЕ НЕ ВИХОДИТЬ ДЕСТРУКТИЗУВАТИ, ЯК ВИ ПОКАЗУВАЛИ\r\n  //  ({preventDefault})  ТОМУ ЗНОВУ onHandleSubmit = e => {\r\n\r\n  onHandleSubmit = e => {\r\n    const { value } = this.state;\r\n    e.preventDefault();\r\n    this.props.onSubmit(value);\r\n    if (value === '') return;\r\n    this.setState({ value: '' });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    return (\r\n      <>\r\n        <header className={s.header}>\r\n          <form onSubmit={this.onHandleSubmit} className={s.form}>\r\n            <input\r\n              type=\"text\"\r\n              value={value}\r\n              placeholder=\"search image...\"\r\n              autoFocus\r\n              className={s.header__input}\r\n              onChange={this.handleChangeValue}\r\n            />\r\n            <button type=\"submit\" className={s.header__btn}>\r\n              Search\r\n            </button>\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ gallery }) {\r\n  return (\r\n    <>\r\n      {gallery.map(item => (\r\n        <li key={item.id}>\r\n          <img\r\n            src={item.webImgUrl}\r\n            width={item.webformatWidth}\r\n            height={450}\r\n            data-large={item.largeImageURL}\r\n            className={s.listItem__img}\r\n            alt=\"\"\r\n          />\r\n        </li>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem.js';\r\n\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({ gallery, onClick }) {\r\n  return (\r\n    <ul className={s.list} onClick={onClick}>\r\n      <ImageGalleryItem gallery={gallery} />\r\n    </ul>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport s from './Button.module.css';\r\n\r\nexport default function Button({ LoadMore }) {\r\n  return (\r\n    <div className={s.footer}>\r\n      <button className={s.footer__btn} type=\"button\" onClick={LoadMore}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport s from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = ({ code }) => {\r\n    if (code === 'Escape') {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { closeModal, url } = this.props;\r\n    return (\r\n      <div className={s.container} onClick={closeModal}>\r\n        <div>\r\n          <img src={url} alt=\"someImage\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './Spiner.module.css';\r\n\r\nexport default function Spinner() {\r\n  return (\r\n    <div className={s.container}>\r\n      <Loader type=\"ThreeDots\" color=\"#563fd6e6\" height={80} width={80} />\r\n    </div>\r\n  );\r\n}\r\n","const baseUrl = 'https://pixabay.com/api/';\r\n\r\nexport default {\r\n  API_KEY: '16796853-8112350817a4bd9fba3110e85',\r\n\r\n  async fetchArticles(query, page) {\r\n    try {\r\n      const requestParam = `?q=${query}&image_type=photo&orientation=horizontal&page=${page}&per_page=12&key=${this.API_KEY}`;\r\n      const response = await fetch(baseUrl + requestParam);\r\n      const data = await response.json();\r\n      const arrayImg = await data.hits;\r\n      return arrayImg;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n","import React, { Component } from 'react';\n\nimport SearchBar from './SearchBar/SearchBar.js';\nimport ImageGallery from './ImageGallery/ImageGallery.js';\nimport Button from './Button/Button.js';\nimport Modal from './Modal/Modal.js';\nimport Spinner from './Spinner/Spinner.js';\n\nimport ApiPixabayServices from '../Services/apiServicePixabay.js';\n\nexport default class App extends Component {\n  state = {\n    gallery: [],\n    page: 1,\n    currentQuery: '',\n    largeImgInModal: '',\n    loader: false,\n    height: 0,\n  };\n\n  fetchArticles = async () => {\n    try {\n      this.setState({ loader: true });\n      const { currentQuery, page } = this.state;\n      const hits = await ApiPixabayServices.fetchArticles(currentQuery, page);\n      const galleryImg = hits.map(hit => {\n        return {\n          id: hit.id,\n          webImgUrl: hit.webformatURL,\n          largeImageURL: hit.largeImageURL,\n          webformatWidth: hit.webformatWidth,\n        };\n      });\n      this.setState(prevState => ({\n        gallery: [...prevState.gallery, ...galleryImg],\n        page: prevState.page + 1,\n      }));\n    } catch (error) {\n      console.log('MY ERROR', error);\n    } finally {\n      this.setState({\n        loader: false,\n        height: document.body.scrollHeight,\n      });\n    }\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { currentQuery, loader, height } = this.state;\n    if (prevState.currentQuery !== currentQuery && currentQuery !== '')\n      this.fetchArticles();\n    if (loader) {\n      window.scrollTo({\n        top: height,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  handleChangeSubmit = query =>\n    this.setState({ currentQuery: query, gallery: [], page: 1, height: 0 });\n\n  GalleryClick = ({ target }) =>\n    this.setState({ largeImgInModal: target.dataset.large });\n\n  CloseModal = () => this.setState({ largeImgInModal: '' });\n\n  LoadMore = () => this.fetchArticles();\n\n  render() {\n    const { largeImgInModal, gallery, loader } = this.state;\n    const isShowBtnLoadMore = gallery.length > 0;\n    const isShowGalary = gallery.length > 0;\n    const isShowModalWindow = largeImgInModal !== '';\n    return (\n      <>\n        {isShowModalWindow && (\n          <Modal url={largeImgInModal} closeModal={this.CloseModal} />\n        )}\n        <SearchBar onSubmit={this.handleChangeSubmit} />\n        {isShowGalary && (\n          <ImageGallery onClick={this.GalleryClick} gallery={gallery} />\n        )}\n\n        {isShowBtnLoadMore && !loader && <Button LoadMore={this.LoadMore} />}\n        {loader && <Spinner />}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Componets/App';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"SearchBar_header__4uB9B\",\"form\":\"SearchBar_form__3fl--\",\"header__input\":\"SearchBar_header__input__2qvJg\",\"header__btn\":\"SearchBar_header__btn__3W0OL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Button_footer__1AV9l\",\"footer__btn\":\"Button_footer__btn__1m3lH\"};"],"sourceRoot":""}