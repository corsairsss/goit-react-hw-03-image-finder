(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{13:function(e,t,a){e.exports={listItem__img:"ImageGalleryItem_listItem__img__15HXO"}},14:function(e,t,a){e.exports={list:"ImageGallery_list__264fp"}},15:function(e,t,a){e.exports={container:"Modal_container__3J4j5"}},17:function(e,t,a){e.exports={container:"Spiner_container__3E1Rd"}},19:function(e,t,a){e.exports=a(48)},48:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(12),c=a.n(o),l=a(2),i=a.n(l),u=a(10),s=a(3),m=a(4),h=a(5),d=a(7),p=a(6),f=a(8),g=a.n(f),v=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={value:""},e.handleChangeValue=function(t){var a=t.target;return e.setState({value:a.value})},e.onHandleSubmit=function(t){var a=e.state.value;t.preventDefault(),e.props.onSubmit(a),""!==a&&e.setState({value:""})},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this.state.value;return n.a.createElement(n.a.Fragment,null,n.a.createElement("header",{className:g.a.header},n.a.createElement("form",{onSubmit:this.onHandleSubmit,className:g.a.form},n.a.createElement("input",{type:"text",value:e,placeholder:"search image...",autoFocus:!0,className:g.a.header__input,onChange:this.handleChangeValue}),n.a.createElement("button",{type:"submit",className:g.a.header__btn},"Search"))))}}]),a}(r.Component),b=a(13),_=a.n(b);function y(e){var t=e.id,a=e.webImgUrl,r=e.webformatWidth,o=e.webformatHeight,c=e.largeImageURL,l=e.tags;return n.a.createElement("li",{key:t},n.a.createElement("img",{src:a,width:r,height:o,"data-large":c,className:_.a.listItem__img,alt:l}))}var w=a(14),E=a.n(w);function S(e){var t=e.gallery,a=e.onClick;return n.a.createElement("ul",{className:E.a.list,onClick:a},t.map((function(e){return n.a.createElement(y,e)})))}var k=a(9),O=a.n(k);function I(e){var t=e.LoadMore;return n.a.createElement("div",{className:O.a.footer},n.a.createElement("button",{className:O.a.footer__btn,type:"button",onClick:t},"Load more"))}var j=a(15),C=a.n(j),x=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handleKeyDown=function(t){"Escape"===t.code&&e.props.closeModal()},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.closeModal,a=e.url;return n.a.createElement("div",{className:C.a.container,onClick:t},n.a.createElement("div",null,n.a.createElement("img",{src:a,alt:"someImage"})))}}]),a}(r.Component),M=a(16),R=a.n(M),L=(a(46),a(17)),N=a.n(L);function A(){return n.a.createElement("div",{className:N.a.container},n.a.createElement(R.a,{type:"ThreeDots",color:"#563fd6e6",height:80,width:80}))}var B=function(){var e=Object(s.a)(i.a.mark((function e(t,a){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="?q=".concat(t,"&image_type=photo&orientation=horizontal&page=").concat(a,"&per_page=12&key=").concat("16796853-8112350817a4bd9fba3110e85"),e.next=4,fetch("https://pixabay.com/api/"+r).then((function(e){return e.json()}));case 4:return n=e.sent,o=n.hits,e.abrupt("return",o);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),H=a(18),T=(a(47),new H.a({duration:5e3,position:{x:"center",y:"top"},types:[{type:"badRequest",backgroundColor:"red",icon:!1,message:"ERROR - PLEASE, TRY LATER....",dismissible:!0,duration:3e3}]})),U=function(){var e=Object(s.a)(i.a.mark((function e(t,a){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(t,a);case 3:return r=e.sent,n=r.map((function(e){return{id:e.id,webImgUrl:e.webformatURL,largeImageURL:e.largeImageURL,webformatWidth:e.webformatWidth,webformatHeight:e.webformatHeight,tags:e.tags}})),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.log("MY ERROR:",e.t0),T.error({type:"badRequest"}),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),D=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={gallery:[],page:1,currentQuery:"",largeImgInModal:"",loader:!1,heightToScroll:0},e.fetchArticles=Object(s.a)(i.a.mark((function t(){var a,r,n,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loader:!0}),a=e.state,r=a.currentQuery,n=a.page,t.next=4,U(r,n);case 4:o=t.sent,e.setState((function(e){return{gallery:[].concat(Object(u.a)(e.gallery),Object(u.a)(o)),page:e.page+1,loader:!1,heightToScroll:document.body.scrollHeight-56}}));case 6:case"end":return t.stop()}}),t)}))),e.handleChangeSubmit=function(t){return e.setState({currentQuery:t,gallery:[],page:1,heightToScroll:0})},e.GalleryClick=function(t){var a=t.target;return e.setState({largeImgInModal:a.dataset.large})},e.CloseModal=function(){return e.setState({largeImgInModal:""})},e.LoadMore=function(){return e.fetchArticles()},e}return Object(h.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.state,r=a.currentQuery,n=a.loader,o=a.heightToScroll;t.currentQuery!==r&&""!==r&&this.fetchArticles(),n||window.scrollTo({top:o,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.largeImgInModal,a=e.gallery,r=e.loader,o=a.length>0,c=a.length>0,l=""!==t;return n.a.createElement(n.a.Fragment,null,l&&n.a.createElement(x,{url:t,closeModal:this.CloseModal}),n.a.createElement(v,{onSubmit:this.handleChangeSubmit}),c&&n.a.createElement(S,{onClick:this.GalleryClick,gallery:a}),o&&!r&&n.a.createElement(I,{LoadMore:this.LoadMore}),r&&n.a.createElement(A,null))}}]),a}(r.Component);c.a.render(n.a.createElement(D,null),document.querySelector("#root"))},8:function(e,t,a){e.exports={header:"SearchBar_header__4uB9B",form:"SearchBar_form__3fl--",header__input:"SearchBar_header__input__2qvJg",header__btn:"SearchBar_header__btn__3W0OL"}},9:function(e,t,a){e.exports={footer:"Button_footer__1AV9l",footer__btn:"Button_footer__btn__1m3lH"}}},[[19,1,2]]]);
//# sourceMappingURL=main.4ae0acb9.chunk.js.map