{"version":3,"sources":["Componets/ImageGalleryItem/ImageGalleryItem.module.css","Componets/ImageGallery/ImageGallery.module.css","Componets/Modal/Modal.module.css","Componets/Spinner/Spiner.module.css","Componets/SearchBar/SearchBar.js","Componets/ImageGalleryItem/ImageGalleryItem.js","Componets/ImageGallery/ImageGallery.js","Componets/Button/Button.js","Componets/Modal/Modal.js","Componets/Spinner/Spinner.js","Services/apiServicePixabay.js","Services/data.js","Config/notyf-options.js","Componets/App.js","index.js","Componets/SearchBar/SearchBar.module.css","Componets/Button/Button.module.css"],"names":["module","exports","SearchBar","state","value","handleChangeValue","target","setState","onHandleSubmit","e","preventDefault","props","onSubmit","this","className","s","header","form","type","placeholder","autoFocus","header__input","onChange","header__btn","Component","ImageGalleryItem","id","webImgUrl","webformatWidth","webformatHeight","largeImageURL","tags","key","src","width","height","data-large","listItem__img","alt","ImageGallery","gallery","onClick","list","map","elem","Button","LoadMore","footer","footer__btn","Modal","handleKeyDown","code","closeModal","window","addEventListener","removeEventListener","url","container","Spinner","color","fetchArticles","query","page","a","requestParam","fetch","then","data","json","hits","notyf","Notyf","duration","position","x","y","types","backgroundColor","icon","message","dismissible","crateArrayWithObjImg","currentQuery","fetchArticlesApi","galleryImg","hit","webformatURL","console","log","error","App","largeImgInModal","loader","heightToScroll","prevState","document","body","scrollHeight","handleChangeSubmit","GalleryClick","dataset","large","CloseModal","prevProps","scrollTo","top","behavior","isShowBtnLoadMore","length","isShowGalary","isShowModalWindow","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.4ae0acb9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem__img\":\"ImageGalleryItem_listItem__img__15HXO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ImageGallery_list__264fp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Modal_container__3J4j5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Spiner_container__3E1Rd\"};","import React, { Component } from 'react';\r\n\r\nimport s from './SearchBar.module.css';\r\n\r\nexport default class SearchBar extends Component {\r\n  state = {\r\n    value: '',\r\n  };\r\n\r\n  handleChangeValue = ({ target }) => this.setState({ value: target.value });\r\n\r\n  //  В МЕНЕ НЕ ВИХОДИТЬ ДЕСТРУКТИЗУВАТИ, ЯК ВИ ПОКАЗУВАЛИ\r\n  //  ({preventDefault})  ТОМУ ЗНОВУ onHandleSubmit = e => {\r\n\r\n  onHandleSubmit = e => {\r\n    const { value } = this.state;\r\n    e.preventDefault();\r\n    this.props.onSubmit(value);\r\n    if (value === '') return;\r\n    this.setState({ value: '' });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    return (\r\n      <>\r\n        <header className={s.header}>\r\n          <form onSubmit={this.onHandleSubmit} className={s.form}>\r\n            <input\r\n              type=\"text\"\r\n              value={value}\r\n              placeholder=\"search image...\"\r\n              autoFocus\r\n              className={s.header__input}\r\n              onChange={this.handleChangeValue}\r\n            />\r\n            <button type=\"submit\" className={s.header__btn}>\r\n              Search\r\n            </button>\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({id,webImgUrl,webformatWidth,webformatHeight,largeImageURL,tags }) {\r\n  return (\r\n    \r\n       <li key={id}>\r\n          <img\r\n            src={webImgUrl}\r\n            width={webformatWidth}\r\n            height={webformatHeight}\r\n            data-large={largeImageURL}\r\n            className={s.listItem__img}\r\n            alt={tags}\r\n          />\r\n        </li>\r\n      \r\n   \r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem.js';\r\n\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({ gallery, onClick }) {\r\n  return (\r\n    <ul className={s.list} onClick={onClick}>\r\n       {gallery.map(elem=><ImageGalleryItem {...elem} />)}\r\n    </ul>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport s from './Button.module.css';\r\n\r\nexport default function Button({ LoadMore }) {\r\n  return (\r\n    <div className={s.footer}>\r\n      <button className={s.footer__btn} type=\"button\" onClick={LoadMore}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport s from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = ({ code }) => {\r\n    if (code === 'Escape') {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { closeModal, url } = this.props;\r\n    return (\r\n      <div className={s.container} onClick={closeModal}>\r\n        <div>\r\n          <img src={url} alt=\"someImage\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './Spiner.module.css';\r\n\r\nexport default function Spinner() {\r\n  return (\r\n    <div className={s.container}>\r\n      <Loader type=\"ThreeDots\" color=\"#563fd6e6\" height={80} width={80} />\r\n    </div>\r\n  );\r\n}\r\n","const baseUrl = 'https://pixabay.com/api/';\r\nconst API_KEY = '16796853-8112350817a4bd9fba3110e85';\r\n\r\nconst fetchArticles = async (query, page) => {\r\n  try {\r\n    const requestParam = `?q=${query}&image_type=photo&orientation=horizontal&page=${page}&per_page=12&key=${API_KEY}`;\r\n    const { hits } = await fetch(baseUrl + requestParam).then(data =>\r\n      data.json(),\r\n    );\r\n    return hits;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport default fetchArticles;\r\n","import fetchArticlesApi from './apiServicePixabay.js';\r\nimport notyfOptions from '../Config/notyf-options.js';\r\nimport { Notyf } from 'notyf';\r\nimport 'notyf/notyf.min.css';\r\n\r\nconst notyf = new Notyf(notyfOptions);\r\n\r\nconst crateArrayWithObjImg = async (currentQuery, page) => {\r\n  try {\r\n    const hits = await fetchArticlesApi(currentQuery, page);\r\n    const galleryImg = hits.map(hit => {\r\n      return {\r\n        id: hit.id,\r\n        webImgUrl: hit.webformatURL,\r\n        largeImageURL: hit.largeImageURL,\r\n        webformatWidth: hit.webformatWidth,\r\n        webformatHeight: hit.webformatHeight,\r\n        tags: hit.tags,\r\n      };\r\n    });\r\n    return galleryImg;\r\n  } catch (error) {\r\n    console.log('MY ERROR:', error);\r\n    notyf.error({ type: 'badRequest' });\r\n    return [];\r\n  }\r\n};\r\nexport default crateArrayWithObjImg;\r\n","export default {\r\n  duration: 5000,\r\n  position: {\r\n    x: 'center',\r\n    y: 'top',\r\n  },\r\n  types: [\r\n    {\r\n      type: 'badRequest',\r\n      backgroundColor: 'red',\r\n      icon: false,\r\n      message: `ERROR - PLEASE, TRY LATER....`,\r\n      dismissible: true,\r\n      duration: 3000,\r\n    },\r\n  ],\r\n};\r\n","import React, { Component } from 'react';\r\n\r\nimport SearchBar from './SearchBar/SearchBar.js';\r\nimport ImageGallery from './ImageGallery/ImageGallery.js';\r\nimport Button from './Button/Button.js';\r\nimport Modal from './Modal/Modal.js';\r\nimport Spinner from './Spinner/Spinner.js';\r\n\r\nimport crateArrayWithObjImg from '../Services/data.js';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    gallery: [],\r\n    page: 1,\r\n    currentQuery: '',\r\n    largeImgInModal: '',\r\n    loader: false,\r\n    heightToScroll: 0,\r\n  };\r\n\r\n  fetchArticles = async () => {\r\n    this.setState({ loader: true });\r\n    const { currentQuery, page } = this.state;\r\n    const galleryImg = await crateArrayWithObjImg(currentQuery, page);\r\n    this.setState(prevState => ({\r\n      gallery: [...prevState.gallery, ...galleryImg],\r\n      page: prevState.page + 1,\r\n      loader: false,\r\n      heightToScroll: document.body.scrollHeight - 56,\r\n    }));\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { currentQuery, loader, heightToScroll } = this.state;\r\n    if (prevState.currentQuery !== currentQuery && currentQuery !== '')\r\n      this.fetchArticles();\r\n    if (!loader) {\r\n      window.scrollTo({\r\n        top: heightToScroll,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleChangeSubmit = query =>\r\n    this.setState({\r\n      currentQuery: query,\r\n      gallery: [],\r\n      page: 1,\r\n      heightToScroll: 0,\r\n    });\r\n\r\n  GalleryClick = ({ target }) =>\r\n    this.setState({ largeImgInModal: target.dataset.large });\r\n\r\n  CloseModal = () => this.setState({ largeImgInModal: '' });\r\n\r\n  LoadMore = () => this.fetchArticles();\r\n\r\n  render() {\r\n    const { largeImgInModal, gallery, loader } = this.state;\r\n    const isShowBtnLoadMore = gallery.length > 0;\r\n    const isShowGalary = gallery.length > 0;\r\n    const isShowModalWindow = largeImgInModal !== '';\r\n    return (\r\n      <>\r\n        {isShowModalWindow && (\r\n          <Modal url={largeImgInModal} closeModal={this.CloseModal} />\r\n        )}\r\n        <SearchBar onSubmit={this.handleChangeSubmit} />\r\n        {isShowGalary && (\r\n          <ImageGallery onClick={this.GalleryClick} gallery={gallery} />\r\n        )}\r\n\r\n        {isShowBtnLoadMore && !loader && <Button LoadMore={this.LoadMore} />}\r\n        {loader && <Spinner />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './Componets/App';\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"SearchBar_header__4uB9B\",\"form\":\"SearchBar_form__3fl--\",\"header__input\":\"SearchBar_header__input__2qvJg\",\"header__btn\":\"SearchBar_header__btn__3W0OL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Button_footer__1AV9l\",\"footer__btn\":\"Button_footer__btn__1m3lH\"};"],"sourceRoot":""}